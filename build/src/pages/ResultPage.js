"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_router_dom_1 = require("react-router-dom");
const card_1 = require("@/components/ui/card");
const label_1 = require("@/components/ui/label");
const input_1 = require("@/components/ui/input");
const table_1 = require("@/components/ui/table");
const button_1 = require("@/components/ui/button");
const ResultPage = () => {
    const location = (0, react_router_dom_1.useLocation)();
    const { response } = location.state;
    const [items, setItems] = (0, react_1.useState)([]);
    (0, react_1.useEffect)(() => {
        if (response) {
            const parsedItems = Object.entries(response).map(([name, details]) => {
                const detailItem = details; // Type assertion
                return {
                    name,
                    order: detailItem.order || '',
                    amount: detailItem.amount || 0,
                };
            });
            setItems(parsedItems);
        }
    }, [response]);
    const [taxRate, setTaxRate] = (0, react_1.useState)(0.08);
    const [tipRate, setTipRate] = (0, react_1.useState)(0.15);
    const calculateTotal = (item) => {
        const subtotal = item.amount;
        const tax = subtotal * taxRate;
        const tip = subtotal * tipRate;
        return subtotal + tax + tip;
    };
    const handleTaxRateChange = (e) => {
        setTaxRate(parseFloat(e.target.value) / 100);
    };
    const handleTipRateChange = (e) => {
        setTipRate(parseFloat(e.target.value) / 100);
    };
    const onDragStart = (event, index) => {
        event.dataTransfer.setData("draggedItemIndex", index);
    };
    const onDrop = (event, dropIndex) => {
        const draggedItemIndex = event.dataTransfer.getData("draggedItemIndex");
        if (draggedItemIndex === undefined) {
            return;
        }
        const draggedIndex = parseInt(draggedItemIndex, 10);
        if (draggedIndex === dropIndex) {
            return;
        }
        const updatedItems = [...items];
        const draggedItem = updatedItems[draggedIndex];
        const droppedItem = updatedItems[dropIndex];
        const combinedItem = {
            ...droppedItem,
            amount: droppedItem.amount + draggedItem.amount,
            order: `${droppedItem.order}, ${draggedItem.order}`,
            combined: true,
            originalItems: [...(droppedItem.originalItems || [droppedItem]), draggedItem],
        };
        updatedItems.splice(dropIndex, 1, combinedItem);
        updatedItems.splice(draggedIndex, 1);
        setItems(updatedItems);
    };
    const onDragOver = (event) => {
        event.preventDefault();
    };
    const separateItem = (index) => {
        const updatedItems = [...items];
        const itemToSeparate = updatedItems[index];
        if (itemToSeparate.combined && itemToSeparate.originalItems) {
            updatedItems.splice(index, 1, ...itemToSeparate.originalItems);
            updatedItems.sort((a, b) => a.name.localeCompare(b.name));
            setItems(updatedItems);
        }
    };
    const handleNameChange = (index, newName) => {
        const updatedItems = [...items];
        updatedItems[index].name = newName;
        setItems(updatedItems);
    };
    return ((0, jsx_runtime_1.jsx)("div", { className: "w-full p-4 sm:p-6", children: (0, jsx_runtime_1.jsxs)(card_1.Card, { children: [(0, jsx_runtime_1.jsxs)(card_1.CardHeader, { children: [(0, jsx_runtime_1.jsx)(card_1.CardTitle, { children: "Split the Bill" }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "View the total amount owed." })] }), (0, jsx_runtime_1.jsxs)(card_1.CardContent, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "grid gap-4 mb-6 sm:grid-cols-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "tax-rate", children: "Tax Rate:" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "tax-rate", type: "number", min: "0", max: "100", value: taxRate * 100, onChange: handleTaxRateChange, className: "w-20" }), (0, jsx_runtime_1.jsx)("span", { children: "%" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "tip-rate", children: "Tip Rate:" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "tip-rate", type: "number", min: "0", max: "100", value: tipRate * 100, onChange: handleTipRateChange, className: "w-20" }), (0, jsx_runtime_1.jsx)("span", { children: "%" })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "overflow-x-auto", children: (0, jsx_runtime_1.jsxs)(table_1.Table, { children: [(0, jsx_runtime_1.jsx)(table_1.TableHeader, { children: (0, jsx_runtime_1.jsxs)(table_1.TableRow, { children: [(0, jsx_runtime_1.jsx)(table_1.TableHead, { children: "Name" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { children: "Order" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: "text-right", children: "Subtotal" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: "text-right", children: "Tax" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: "text-right", children: "Tip" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: "text-right", children: "Total" }), (0, jsx_runtime_1.jsx)(table_1.TableHead, { className: "text-right", children: "Actions" })] }) }), (0, jsx_runtime_1.jsx)(table_1.TableBody, { children: items.map((item, index) => ((0, jsx_runtime_1.jsxs)(table_1.TableRow, { draggable: true, onDragStart: (event) => onDragStart(event, index), onDragOver: onDragOver, onDrop: (event) => onDrop(event, index), children: [(0, jsx_runtime_1.jsx)(table_1.TableCell, { className: "font-medium", children: (0, jsx_runtime_1.jsx)(input_1.Input, { className: 'w-1/2', type: "text", value: item.name, onChange: (e) => handleNameChange(index, e.target.value) }) }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { children: item.order }), (0, jsx_runtime_1.jsxs)(table_1.TableCell, { className: "text-right", children: ["$", item.amount.toFixed(2)] }), (0, jsx_runtime_1.jsxs)(table_1.TableCell, { className: "text-right", children: ["$", (item.amount * taxRate).toFixed(2)] }), (0, jsx_runtime_1.jsxs)(table_1.TableCell, { className: "text-right", children: ["$", (item.amount * tipRate).toFixed(2)] }), (0, jsx_runtime_1.jsxs)(table_1.TableCell, { className: "text-right", children: ["$", calculateTotal(item).toFixed(2)] }), (0, jsx_runtime_1.jsx)(table_1.TableCell, { className: "text-right", children: item.combined && ((0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: () => separateItem(index), children: "Separate" })) })] }, index))) })] }) })] }), (0, jsx_runtime_1.jsx)(card_1.CardFooter, { children: (0, jsx_runtime_1.jsxs)("div", { className: "grid gap-4 sm:flex sm:items-center sm:justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between font-bold", children: [(0, jsx_runtime_1.jsx)("div", { children: "Total:" }), (0, jsx_runtime_1.jsxs)("div", { children: ["$", items.reduce((total, item) => total + calculateTotal(item), 0).toFixed(2)] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", children: "Split Bill" })] }) })] }) }));
};
exports.default = ResultPage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVzdWx0UGFnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wYWdlcy9SZXN1bHRQYWdlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpQ0FBbUQ7QUFDbkQsdURBQStDO0FBQy9DLCtDQUE0RztBQUM1RyxpREFBNkM7QUFDN0MsaURBQTZDO0FBQzdDLGlEQUFxRztBQUNyRyxtREFBK0M7QUFpQi9DLE1BQU0sVUFBVSxHQUFHLEdBQUcsRUFBRTtJQUN0QixNQUFNLFFBQVEsR0FBRyxJQUFBLDhCQUFXLEdBQUUsQ0FBQztJQUMvQixNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsUUFBUSxDQUFDLEtBQW1DLENBQUM7SUFFbEUsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQVMsRUFBRSxDQUFDLENBQUM7SUFFL0MsSUFBQSxpQkFBUyxFQUFDLEdBQUcsRUFBRTtRQUNiLElBQUksUUFBUSxFQUFFLENBQUM7WUFDYixNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUU7Z0JBQ25FLE1BQU0sVUFBVSxHQUFHLE9BQTRDLENBQUMsQ0FBQyxpQkFBaUI7Z0JBQ2xGLE9BQU87b0JBQ0wsSUFBSTtvQkFDSixLQUFLLEVBQUUsVUFBVSxDQUFDLEtBQUssSUFBSSxFQUFFO29CQUM3QixNQUFNLEVBQUUsVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDO2lCQUMvQixDQUFDO1lBQ0osQ0FBQyxDQUFDLENBQUM7WUFDSCxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEIsQ0FBQztJQUNILENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFFZixNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxJQUFJ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LENBQUMsR0FDUSxJQUNOLEdBQ0osSUFDTSxFQUNkLHVCQUFDLGlCQUFVLGNBQ1QsaUNBQUssU0FBUyxFQUFDLHVEQUF1RCxhQUNwRSxpQ0FBSyxTQUFTLEVBQUMsNkNBQTZDLGFBQzFELHFEQUFpQixFQUNqQixpREFBTyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQU8sSUFDbkYsRUFDTix1QkFBQyxlQUFNLElBQUMsT0FBTyxFQUFDLFNBQVMsMkJBQW9CLElBQ3pDLEdBQ0ssSUFDUixHQUNILENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGtCQUFlLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUsIENhcmREZXNjcmlwdGlvbiwgQ2FyZENvbnRlbnQsIENhcmRGb290ZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIlxyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvbGFiZWxcIlxyXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIlxyXG5pbXBvcnQgeyBUYWJsZSwgVGFibGVIZWFkZXIsIFRhYmxlUm93LCBUYWJsZUhlYWQsIFRhYmxlQm9keSwgVGFibGVDZWxsIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90YWJsZVwiXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcclxuXHJcbmludGVyZmFjZSBJdGVtIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgb3JkZXI6IHN0cmluZztcclxuICBhbW91bnQ6IG51bWJlcjtcclxuICBjb21iaW5lZD86IGJvb2xlYW47XHJcbiAgb3JpZ2luYWxJdGVtcz86IEl0ZW1bXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFJlc3BvbnNlRGF0YSB7XHJcbiAgW2tleTogc3RyaW5nXToge1xyXG4gICAgb3JkZXI6IHN0cmluZztcclxuICAgIGFtb3VudDogbnVtYmVyO1xyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IFJlc3VsdFBhZ2UgPSAoKSA9PiB7XHJcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xyXG4gIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGxvY2F0aW9uLnN0YXRlIGFzIHsgcmVzcG9uc2U6IFJlc3BvbnNlRGF0YSB9O1xyXG5cclxuICBjb25zdCBbaXRlbXMsIHNldEl0ZW1zXSA9IHVzZVN0YXRlPEl0ZW1bXT4oW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgIGNvbnN0IHBhcnNlZEl0ZW1zID0gT2JqZWN0LmVudHJpZXMocmVzcG9uc2UpLm1hcCgoW25hbWUsIGRldGFpbHNdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGV0YWlsSXRlbSA9IGRldGFpbHMgYXMgeyBvcmRlcjogc3RyaW5nOyBhbW91bnQ6IG51bWJlciB9OyAvLyBUeXBlIGFzc2VydGlvblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgb3JkZXI6IGRldGFpbEl0ZW0ub3JkZXIgfHwgJycsXHJcbiAgICAgICAgICBhbW91bnQ6IGRldGFpbEl0ZW0uYW1vdW50IHx8IDAsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICAgIHNldEl0ZW1zKHBhcnNlZEl0ZW1zKTtcclxuICAgIH1cclxuICB9LCBbcmVzcG9uc2VdKTtcclxuXHJcbiAgY29uc3QgW3RheFJhdGUsIHNldFRheFJhdGVdID0gdXNlU3RhdGUoMC4wOCk7XHJcbiAgY29uc3QgW3RpcFJhdGUsIHNldFRpcFJhdGVdID0gdXNlU3RhdGUoMC4xNSk7XHJcblxyXG4gIGNvbnN0IGNhbGN1bGF0ZVRvdGFsID0gKGl0ZW0pID0+IHtcclxuICAgIGNvbnN0IHN1YnRvdGFsID0gaXRlbS5hbW91bnQ7XHJcbiAgICBjb25zdCB0YXggPSBzdWJ0b3RhbCAqIHRheFJhdGU7XHJcbiAgICBjb25zdCB0aXAgPSBzdWJ0b3RhbCAqIHRpcFJhdGU7XHJcbiAgICByZXR1cm4gc3VidG90YWwgKyB0YXggKyB0aXA7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVGF4UmF0ZUNoYW5nZSA9IChlKSA9PiB7XHJcbiAgICBzZXRUYXhSYXRlKHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIC8gMTAwKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVUaXBSYXRlQ2hhbmdlID0gKGUpID0+IHtcclxuICAgIHNldFRpcFJhdGUocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkgLyAxMDApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKGV2ZW50LCBpbmRleCkgPT4ge1xyXG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJkcmFnZ2VkSXRlbUluZGV4XCIsIGluZGV4KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBvbkRyb3AgPSAoZXZlbnQsIGRyb3BJbmRleCkgPT4ge1xyXG4gICAgY29uc3QgZHJhZ2dlZEl0ZW1JbmRleCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiZHJhZ2dlZEl0ZW1JbmRleFwiKTtcclxuICAgIGlmIChkcmFnZ2VkSXRlbUluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRyYWdnZWRJbmRleCA9IHBhcnNlSW50KGRyYWdnZWRJdGVtSW5kZXgsIDEwKTtcclxuICAgIGlmIChkcmFnZ2VkSW5kZXggPT09IGRyb3BJbmRleCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZEl0ZW1zID0gWy4uLml0ZW1zXTtcclxuICAgIGNvbnN0IGRyYWdnZWRJdGVtID0gdXBkYXRlZEl0ZW1zW2RyYWdnZWRJbmRleF07XHJcbiAgICBjb25zdCBkcm9wcGVkSXRlbSA9IHVwZGF0ZWRJdGVtc1tkcm9wSW5kZXhdO1xyXG5cclxuICAgIGNvbnN0IGNvbWJpbmVkSXRlbSA9IHtcclxuICAgICAgLi4uZHJvcHBlZEl0ZW0sXHJcbiAgICAgIGFtb3VudDogZHJvcHBlZEl0ZW0uYW1vdW50ICsgZHJhZ2dlZEl0ZW0uYW1vdW50LFxyXG4gICAgICBvcmRlcjogYCR7ZHJvcHBlZEl0ZW0ub3JkZXJ9LCAke2RyYWdnZWRJdGVtLm9yZGVyfWAsXHJcbiAgICAgIGNvbWJpbmVkOiB0cnVlLFxyXG4gICAgICBvcmlnaW5hbEl0ZW1zOiBbLi4uKGRyb3BwZWRJdGVtLm9yaWdpbmFsSXRlbXMgfHwgW2Ryb3BwZWRJdGVtXSksIGRyYWdnZWRJdGVtXSxcclxuICAgIH07XHJcblxyXG4gICAgdXBkYXRlZEl0ZW1zLnNwbGljZShkcm9wSW5kZXgsIDEsIGNvbWJpbmVkSXRlbSk7XHJcbiAgICB1cGRhdGVkSXRlbXMuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSk7XHJcbiAgICBzZXRJdGVtcyh1cGRhdGVkSXRlbXMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9uRHJhZ092ZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2VwYXJhdGVJdGVtID0gKGluZGV4KSA9PiB7XHJcbiAgICBjb25zdCB1cGRhdGVkSXRlbXMgPSBbLi4uaXRlbXNdO1xyXG4gICAgY29uc3QgaXRlbVRvU2VwYXJhdGUgPSB1cGRhdGVkSXRlbXNbaW5kZXhdO1xyXG5cclxuICAgIGlmIChpdGVtVG9TZXBhcmF0ZS5jb21iaW5lZCAmJiBpdGVtVG9TZXBhcmF0ZS5vcmlnaW5hbEl0ZW1zKSB7XHJcbiAgICAgIHVwZGF0ZWRJdGVtcy5zcGxpY2UoaW5kZXgsIDEsIC4uLml0ZW1Ub1NlcGFyYXRlLm9yaWdpbmFsSXRlbXMpO1xyXG4gICAgICB1cGRhdGVkSXRlbXMuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XHJcbiAgICAgIHNldEl0ZW1zKHVwZGF0ZWRJdGVtcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmFtZUNoYW5nZSA9IChpbmRleCwgbmV3TmFtZSkgPT4ge1xyXG4gICAgY29uc3QgdXBkYXRlZEl0ZW1zID0gWy4uLml0ZW1zXTtcclxuICAgIHVwZGF0ZWRJdGVtc1tpbmRleF0ubmFtZSA9IG5ld05hbWU7XHJcbiAgICBzZXRJdGVtcyh1cGRhdGVkSXRlbXMpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBwLTQgc206cC02XCI+XHJcbiAgICAgIDxDYXJkPlxyXG4gICAgICAgIDxDYXJkSGVhZGVyPlxyXG4gICAgICAgICAgPENhcmRUaXRsZT5TcGxpdCB0aGUgQmlsbDwvQ2FyZFRpdGxlPlxyXG4gICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5WaWV3IHRoZSB0b3RhbCBhbW91bnQgb3dlZC48L0NhcmREZXNjcmlwdGlvbj5cclxuICAgICAgICA8L0NhcmRIZWFkZXI+XHJcbiAgICAgICAgPENhcmRDb250ZW50PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC00IG1iLTYgc206Z3JpZC1jb2xzLTJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwidGF4LXJhdGVcIj5UYXggUmF0ZTo8L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJ0YXgtcmF0ZVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4gICAgICAgICAgICAgICAgbWF4PVwiMTAwXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXt0YXhSYXRlICogMTAwfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVRheFJhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTIwXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxzcGFuPiU8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJ0aXAtcmF0ZVwiPlRpcCBSYXRlOjwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICBpZD1cInRpcC1yYXRlXCJcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgbWluPVwiMFwiXHJcbiAgICAgICAgICAgICAgICBtYXg9XCIxMDBcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RpcFJhdGUgKiAxMDB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlVGlwUmF0ZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMjBcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XHJcbiAgICAgICAgICAgIDxUYWJsZT5cclxuICAgICAgICAgICAgICA8VGFibGVIZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8VGFibGVSb3c+XHJcbiAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWQ+TmFtZTwvVGFibGVIZWFkPlxyXG4gICAgICAgICAgICAgICAgICA8VGFibGVIZWFkPk9yZGVyPC9UYWJsZUhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWQgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlN1YnRvdGFsPC9UYWJsZUhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWQgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlRheDwvVGFibGVIZWFkPlxyXG4gICAgICAgICAgICAgICAgICA8VGFibGVIZWFkIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5UaXA8L1RhYmxlSGVhZD5cclxuICAgICAgICAgICAgICAgICAgPFRhYmxlSGVhZCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+VG90YWw8L1RhYmxlSGVhZD5cclxuICAgICAgICAgICAgICAgICAgPFRhYmxlSGVhZCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+QWN0aW9uczwvVGFibGVIZWFkPlxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZVJvdz5cclxuICAgICAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxyXG4gICAgICAgICAgICAgIDxUYWJsZUJvZHk+XHJcbiAgICAgICAgICAgICAgICB7aXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8VGFibGVSb3dcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZXZlbnQpID0+IG9uRHJhZ1N0YXJ0KGV2ZW50LCBpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17b25EcmFnT3Zlcn1cclxuICAgICAgICAgICAgICAgICAgICBvbkRyb3A9eyhldmVudCkgPT4gb25Ecm9wKGV2ZW50LCBpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LTEvMidcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aXRlbS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZU5hbWVDaGFuZ2UoaW5kZXgsIGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbD57aXRlbS5vcmRlcn08L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj4ke2l0ZW0uYW1vdW50LnRvRml4ZWQoMil9PC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+JHsoaXRlbS5hbW91bnQgKiB0YXhSYXRlKS50b0ZpeGVkKDIpfTwvVGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPiR7KGl0ZW0uYW1vdW50ICogdGlwUmF0ZSkudG9GaXhlZCgyKX08L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj4ke2NhbGN1bGF0ZVRvdGFsKGl0ZW0pLnRvRml4ZWQoMil9PC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5jb21iaW5lZCAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBzaXplPVwic21cIiBvbkNsaWNrPXsoKSA9PiBzZXBhcmF0ZUl0ZW0oaW5kZXgpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBTZXBhcmF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICA8L1RhYmxlQm9keT5cclxuICAgICAgICAgICAgPC9UYWJsZT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XHJcbiAgICAgICAgPENhcmRGb290ZXI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgc206ZmxleCBzbTppdGVtcy1jZW50ZXIgc206anVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGZvbnQtYm9sZFwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+VG90YWw6PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdj4ke2l0ZW1zLnJlZHVjZSgodG90YWwsIGl0ZW0pID0+IHRvdGFsICsgY2FsY3VsYXRlVG90YWwoaXRlbSksIDApLnRvRml4ZWQoMil9PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCI+U3BsaXQgQmlsbDwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9DYXJkRm9vdGVyPlxyXG4gICAgICA8L0NhcmQ+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVzdWx0UGFnZTtcclxuIl19